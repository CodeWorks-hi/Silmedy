# 🩺 Silmedy 환자용 안드로이드 앱

### 환자의 증상 입력, 화상 진료, 처방 확인까지 지원하는 모바일 클라이언트 앱

---

## 📌 앱 개요

Silmedy 환자용 앱은 비대면 진료 서비스를 이용하는 환자들을 위한 안드로이드 기반 모바일 클라이언트입니다. 사용자는 증상 입력, 화상 진료 참여, 진단 결과 및 처방 확인, 약 배송 요청 등의 기능을 간편하게 이용할 수 있습니다.

---

## 📱 주요 기능

### 📝 증상 입력 및 문진
- 증상 및 불편 사항을 텍스트 또는 선택형 방식으로 입력
- AI가 질환 분류를 보조하여 진단 전 참고 정보 제공

### 📞 영상 진료 참여
- 의료진이 수락한 진료 요청에 대해 영상 통화 자동 연결
- 화상 중 실시간 자막 제공 (의사 음성 인식 기반)

### 📋 진단 및 처방 확인
- 진료 종료 후 진단서 및 처방 내용 확인
- 의약품 정보 및 복약 안내 확인 가능

### 🛍 약국 연계 및 배송 요청
- 약국 선택 및 약 배송 요청 기능 제공
- 배송 상태 및 수령 여부 확인 가능

### 📈 진료 이력 열람
- 과거 진료 기록 및 처방 이력 조회
- 진료일, 증상, 진단 결과 등 확인 가능

---

## 🛠 기술 스택

| 분야            | 기술                                         |
|-----------------|--------------------------------------------|
| 언어            | Java                                       |
| 프레임워크      | Android SDK                                |
| AI 연동         | Llama 기반 AI, REST API                      |
| 실시간 통신     | Firebase RTDB, WebRTC                      |
| 비동기 및 네트워크 | OkHttp, Retrofit                           |
| 이미지 처리     | Glide                                      |
| 데이터 저장     | Firestore, AWS DynamoDB, SharedPreferences |

---

## 📂 주요 디렉터리 구성

```
📁 silmedy-android/
│── 📂 ui/                        # 화면 구성 관련 액티비티 및 프래그먼트
│── 📂 adapter/                  # RecyclerView 어댑터 모음
│── 📂 model/                    # 데이터 모델 클래스
│── 📂 config/                   # 네트워크, 토큰, FCM 설정
│── 📂 llama/                    # AI 문진 처리 및 메시지 모델
│── 📂 videocall/                # WebRTC 화상 진료 처리
│── 📂 photo_clinic/             # 신체부위 선택 및 촬영
│── 📄 MainActivity.java         # 스플래시 및 초기 라우팅
│── 📄 README.md
```

---

## 🚀 설치 및 실행

### 모바일 기기 (Android)

- 최신 APK 다운로드: [Silmedy.apk](http://43.201.73.161:8080/Silmedy.apk)

  > ⚠️ Android 기기에서는 브라우저에서 바로 설치되지 않을 수 있습니다. 아래 절차를 참고하세요:
  > 
  > 1. 위 링크를 클릭하여 `.apk` 파일을 다운로드합니다.
  > 2. 다운로드가 완료되면 알림창 또는 파일 앱을 통해 `.apk` 파일을 실행합니다.
  > 3. 설치가 차단되는 경우, 설정에서 "알 수 없는 앱 설치 허용"을 활성화합니다.
  > 4. 설치가 완료되면 앱을 실행할 수 있습니다.

### PC (Android Studio)

1. Android Studio에서 프로젝트 열기
2. Firebase 및 Firestore, Firebase RTDB 연동 설정
3. `.tflite` 모델 파일은 `assets/` 디렉터리에 포함
4. 실제 기기 또는 에뮬레이터에서 실행

---

## 🧩 개발 노트

- AccessToken 자동 갱신 처리: `TokenManager` 사용
- Llama 응답은 최대 2초 내 반환되며 UI 반영은 비동기로 수행
- WebRTC 종료 시 FCM 메시지를 통한 신호 기반 제어 사용